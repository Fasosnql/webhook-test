<div class="{{vm.style['story-menu']}}">
    <ul class="nav nav-pills nav-stacked item" ng-repeat="item in vm.menuItems track by $index">
        <li>
            <a href="" ng-click="vm.toggleOption(vm.menuItems, $index)" class="item-tile">{{item.state.name}} <span>{{item.toggle ? '-' : '+'}}</span></a>
        </li>
        <ul class="nav nav-pills nav-stacked children" ng-if="item.state && item.toggle">
            <div ng-repeat="childrenState in item.states track by $index">
                <li ng-click="vm.toggleOption(item.states, $index)" class="component">
                    <a href="" ng-click="vm.go(childrenState.state.sref)" ui-sref-active="active">{{childrenState.state.name}} <span>{{childrenState.toggle ? '-' : '+'}}</span></a>
                </li>

                <ul class="nav nav-pills nav-stacked children" ng-if="childrenState.state && childrenState.toggle">
                    <li ng-repeat="story in childrenState.state.stories track by $index"
                        ng-class="{'active': vm.activeStory === story && childrenState.state.name === vm.currentState}">
                        <a href="" ng-click="vm.go(childrenState.state, story)" ui-sref-active="active">{{story}}</a>
                    </li>
                </ul>
            </div>
        </ul>
    </ul>
</div>